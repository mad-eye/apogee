<template name="edit">
  {{> projectStatus}}
    <div class="row">
        <div class="span4">
            {{> fileTree}}
        </div>
        <div class="span8">
            {{> editorChrome }}
            {{> editor}}
        </div>
    </div>
</template>

<template name="projectStatus">
  {{#if projectIsLoading}}
    {{> alert projectLoadingAlert}}
  {{/if}}
  {{#if projectIsClosed}}
    {{> alert projectClosedError}}
  {{/if}}
</template>

<template name="fileTree">
<div id="projectName"><h4>{{projectName}}</h4></div>
<ul class="fileTree">
    {{#each files}}
      <li class="{{fileEntryClass}}" id="{{_id}}">
        <span>{{filename}} {{#if modified}}*{{/if}}</span> 
      </li>
    {{/each}}
</ul>
</template>

<template name="editorChrome">
  <div id="editorFileName"><h4>{{editorFileName}}</h4></div>
  {{#if editorFileName}}
    <div id="buttonRow">
      <button id="saveButton" class="btn btn-primary {{buttonDisabled}}" {{buttonDisabled}}>{{saveButtonMessage}}</button>
      {{#if showSaveSpinner}}
        <img id="saveButtonSpinner" src="/images/ajax-loader.gif" alt="Loading..." />
      {{/if}}
    </div>
  {{/if}}
</template>

<template name="editor">
  <!-- this hack exists to force a new div block on file swtich {{editorFileName}} -->
  <div id="editor" ></div>
</template>
