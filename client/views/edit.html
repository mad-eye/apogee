<template name="edit">
  {{> projectStatus}}
    <div class="row">
        <div class="span3">
            {{> fileTree}}
        </div>
        <div id="editorChrome" class="span8">
            {{> editorChrome }}
            {{> editorOverlay }}
            {{> editor}}
        </div>
    </div>
</template>

<template name="projectStatus">
  {{#each projectAlerts}}
    {{> alert this}}
  {{/each}}
</template>

<template name="fileTree">
<div id="projectName"><h4>{{projectName}}</h4></div>
<ul class="fileTree">
    {{#each files}}
      <li class="{{fileEntryClass}}" id="{{_id}}">
        <span>{{filename}} {{#if modified}}*{{/if}}</span>
        {{#each usersInFile this}}
          <img class="fileTreeUserIcon" alt="" destination="{{this.destination}}" src="{{this.img}}"</img>
        {{/each}}
      </li>
    {{/each}}
</ul>
</template>

<template name="editorChrome">
  <div id="editorTitleBar" class="clearfix">
    <div id="saveBox" class="pull-left">
      <img id="saveImage" src="/images/save-file2.png" class="{{buttonDisabled}}" alt="Save file" title="Save file" />
      {{#if showSaveSpinner}}
        <img id="saveButtonSpinner" src="/images/ajax-loader.gif" alt="Loading..." />
      {{/if}}
    </div>
    <div id="editorTitle" class="pull-left">
      <h4>
        {{editorFileName}}
      </h4>
    </div>
    {{#unless fileIsDeleted}}
      <a id="revertFile" class="pull-right {{buttonDisabled}}" title="Revert the file to the state on the local computer." href="#">Revert</a>
    {{else}}
      <a id="discardFile" class="pull-right {{buttonDisabled}}" title="Discard this file, removing it from the project view" href="#">Discard File</a>
    {{/unless}}
  </div>
</template>

<template name="editorOverlay">
  {{#if editorIsLoading}}
    <div id="editorOverlay">
      <img id="editorLoadingSpinner" src="/images/file-loader.gif" alt="Loading..." />
    </div>
  {{/if}}
</template>

<template name="editor">
  <!-- this hack exists to force a new div block on file swtich {{editorFileName}} -->
  <div id="editor" > </div>

</template>
