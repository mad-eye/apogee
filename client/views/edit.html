<template name="edit">
  {{> projectStatus}}
    <div class="row">
        <div class="span3">
          {{#if isInterview}}
            {{> interview}}
          {{else}}
            {{> fileTree}}
          {{/if}}
          
        </div>
        <div id="editorChrome" class="span8">
            {{> editorChrome }}
            {{> editorOverlay }}
            {{> editor}}
            {{#if isInterview}}
            <div id="programOutput" style="position: absolute; width: 770px;">
              <pre id="stdout"><span class="filler" style="color: #999">program output will go here</span></pre>
            </div>
            {{/if}}
        </div>
    </div>
</template>

<template name="projectStatus">
  {{#each projectAlerts}}
    {{> alert this}}
  {{/each}}
</template>

<template name="fileTree">
<div id="projectName"><h4>{{projectName}}</h4></div>
<ul class="fileTree">
    {{#each files}}
      {{#if isVisible}}
        <li class="{{fileEntryClass}}" id="{{_id}}">
          <span>{{filename}} {{#if modified}}*{{/if}}</span>
          {{#each usersInFile this}}
            <img class="fileTreeUserIcon" alt="" destination="{{this.destination}}" src="{{this.img}}"</img>
          {{/each}}
        </li>
      {{/if}}
    {{/each}}
</ul>
</template>

<template name="editorChrome">
  <div id="editorTitleBar" class="clearfix">
    <div id="editorTitle" class="pull-left">
      <h4>
        {{editorFileName}}
      </h4>
    </div>
  </div>
  {{> editorBar }}
</template>

<template name="editorOverlay">
  {{#if editorIsLoading}}
    <div id="editorOverlay">
      <img id="editorLoadingSpinner" src="/images/file-loader.gif" alt="Loading..." />
    </div>
  {{/if}}
</template>

<template name="editor">
  <div id="editor"></div>
</template>
